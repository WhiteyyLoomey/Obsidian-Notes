/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var m=Object.defineProperty;var k=Object.getOwnPropertyDescriptor;var I=Object.getOwnPropertyNames;var $=Object.prototype.hasOwnProperty;var C=(o,n)=>{for(var t in n)m(o,t,{get:n[t],enumerable:!0})},v=(o,n,t,e)=>{if(n&&typeof n=="object"||typeof n=="function")for(let a of I(n))!$.call(o,a)&&a!==t&&m(o,a,{get:()=>n[a],enumerable:!(e=k(n,a))||e.enumerable});return o};var x=o=>v(m({},"__esModule",{value:!0}),o);var F={};C(F,{default:()=>D});module.exports=x(F);var s=require("obsidian");function w(o,n=""){let t=typeof o=="string"?M(o):new Date(o),e=t.getFullYear(),a=t.getMonth(),l=new Date(e,a,1),h=new Date(e,a+1,0),d=l.getDay(),c=h.getDate(),r=`## ${t.toLocaleString("default",{month:"long"})} ${e}

`;r+=`| Sunday | Monday | Tuesday | Wednesday | Thursday | Friday | Saturday |
`,r+=`|--------|--------|---------|-----------|----------|--------|----------|
`;let i=1,u="|";for(let p=0;p<d;p++)u+=" |";for(;i<=c;){let p=new Date(e,a,i).getDay();if(p===0&&i!==1&&(u+=`
|`),u+=` ${i}${n} |`,i++,i>c&&p!==6)for(let E=p+1;E<=6;E++)u+=" |"}return r+=u,r}function y(o){let n=typeof o=="string"?M(o):new Date(o),t=n.getDay(),e=new Date(n);e.setDate(n.getDate()-t);let a=e.toLocaleDateString("default",{month:"short",day:"numeric"}),l=new Date(e);l.setDate(e.getDate()+6);let h=l.toLocaleDateString("default",{month:"short",day:"numeric",year:"numeric"}),d=`## Week of ${a} - ${h}

`;d+=`| Day | Date | Notes |
`,d+=`|-----|------|-------|
`;for(let c=0;c<7;c++){let g=new Date(e);g.setDate(e.getDate()+c);let r=g.toLocaleDateString("default",{weekday:"long"}),i=g.toLocaleDateString("default",{month:"short",day:"numeric"});d+=`| ${r} | ${i} | |
`}return d}function M(o){if(/^\d{4}-\d{2}$/.test(o)){let n=o.split("-"),t=parseInt(n[0],10),e=parseInt(n[1],10)-1;return new Date(t,e,1)}if(/^\d{4}-\d{2}-\d{2}$/.test(o)){let n=o.split("-"),t=parseInt(n[0],10),e=parseInt(n[1],10)-1,a=parseInt(n[2],10);return new Date(t,e,a)}throw new Error("Invalid date format. Please use YYYY-MM or YYYY-MM-DD format.")}var T={defaultView:"month",defaultFormat:"YYYY-MM-DD"},D=class extends s.Plugin{async onload(){await this.loadSettings(),this.addCommand({id:"insert-month-calendar",name:"Insert month calendar",editorCallback:t=>{new f(this.app,t).open()}}),this.addCommand({id:"insert-week-calendar",name:"Insert week calendar",editorCallback:t=>{new S(this.app,t).open()}}),this.addCommand({id:"insert-current-calendar",name:"Insert calendar for current date",editorCallback:t=>{let e=new Date,a=e.getFullYear(),l=e.getMonth()+1,h=e.getDate(),d=String(l).padStart(2,"0"),c=String(h).padStart(2,"0"),g=`${a}-${d}-${c}`;if(this.settings.defaultView==="month"){let r=`${a}-${d}`,i=w(r,"");t.replaceSelection(i)}else{let r=y(g);t.replaceSelection(r)}new s.Notice(`Inserted ${this.settings.defaultView} calendar`)}}),this.addSettingTab(new Y(this.app,this))}onunload(){}async loadSettings(){this.settings=Object.assign({},T,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}},f=class extends s.Modal{constructor(t,e){super(t);this.editor=e}onOpen(){let{contentEl:t}=this;t.createEl("h2",{text:"Insert month calendar"});let a=new s.Setting(t).setName("Month").setDesc("Enter month in format YYYY-MM (e.g., 2025-11)").controlEl.createEl("input",{attr:{type:"text",placeholder:"YYYY-MM (e.g., 2025-11)"}}),l=new Date,h=l.getFullYear(),d=String(l.getMonth()+1).padStart(2,"0");a.value=`${h}-${d}`;let g=new s.Setting(t).setName("Day placeholder").setDesc('Optional text to add alongside the day number (e.g., " \u{1F4DD}" will show "1 \u{1F4DD}")').controlEl.createEl("input",{attr:{type:"text",placeholder:'e.g., " \u{1F4DD}" or " []"'}});new s.Setting(t).addButton(r=>{r.setButtonText("Insert month calendar").setCta().onClick(()=>{try{let i=w(a.value,g.value);this.editor.replaceSelection(i),this.close(),new s.Notice("Inserted month calendar")}catch(i){new s.Notice(`Error: ${i.message}`)}})})}onClose(){let{contentEl:t}=this;t.empty()}},S=class extends s.Modal{constructor(t,e){super(t);this.editor=e}onOpen(){let{contentEl:t}=this;t.createEl("h2",{text:"Insert week calendar"});let a=new s.Setting(t).setName("Date").setDesc("Enter any date in the week in format YYYY-MM-DD (e.g., 2025-11-03)").controlEl.createEl("input",{attr:{type:"text",placeholder:"YYYY-MM-DD (e.g., 2025-11-03)"}}),l=new Date,h=l.getFullYear(),d=String(l.getMonth()+1).padStart(2,"0"),c=String(l.getDate()).padStart(2,"0");a.value=`${h}-${d}-${c}`,new s.Setting(t).addButton(g=>{g.setButtonText("Insert week calendar").setCta().onClick(()=>{try{let r=y(a.value);this.editor.replaceSelection(r),this.close(),new s.Notice("Inserted week calendar")}catch(r){new s.Notice(`Error: ${r.message}`)}})})}onClose(){let{contentEl:t}=this;t.empty()}},Y=class extends s.PluginSettingTab{constructor(t,e){super(t,e);this.plugin=e}display(){let{containerEl:t}=this;t.empty(),new s.Setting(t).setName("Default view").setDesc("Choose the default calendar view type").addDropdown(e=>e.addOption("month","Month view").addOption("week","Week view").setValue(this.plugin.settings.defaultView).onChange(async a=>{this.plugin.settings.defaultView=a,await this.plugin.saveSettings()})),new s.Setting(t).setName("Date Format").setDesc("The format used for displaying dates (currently only supports YYYY-MM-DD)").addText(e=>e.setPlaceholder("YYYY-MM-DD").setValue(this.plugin.settings.defaultFormat).setDisabled(!0).onChange(async a=>{this.plugin.settings.defaultFormat=a,await this.plugin.saveSettings()}))}};

/* nosourcemap */